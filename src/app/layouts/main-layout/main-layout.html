<div class="h-full flex bg-gray-100">
    <div [ngClass]="isSidebarCollapsed ? 'w-[60px]' : 'w-[300px]'"
        class="transition-all duration-300 shadow-md bg-white overflow-hidden">
        <div class="h-[68px] bg-[#00A6E6]">
            <img [src]="isSidebarCollapsed ? 'assets/images/ktb_logo_crop.png' : 'assets/images/ktb_logo_1.png'"
                alt="ktb_logo" class="h-full mx-auto" />
        </div>
        <div class="bg-blue-700 h-10 flex items-center justify-center gap-2">
            <app-icon [name]="menus.icon" size="25" class="text-white" [ariaLabel]="menus.title"></app-icon>

            @if(!isSidebarCollapsed) {
            <span class="text-white text-sm font-semibold">{{menus.title}}</span>
            }
        </div>
        <ul class="menu menu-md rounded-box w-full" [ngClass]="isSidebarCollapsed ? 'px-1' : 'p-0'">
            <app-menu-item *ngFor="let menu of menus.submenu" [menu]="menu" [isSidebarCollapsed]="isSidebarCollapsed"
                [isParent]="true">
            </app-menu-item>
        </ul>
    </div>
    <div class="flex-1">
        <div class="flex px-6 items-center bg-gradient-to-r from-[#00A6E6] to-[#007BAA] h-[68px]">
            <div class="flex w-64 justify-between items-center">
                <div class="px-2">
                    <button class="hidden md:block z-50 p-1 cursor-pointer" (click)="toggleSidebar()">
                        <app-icon name="burger-menu" size="25" class="text-blue-100" ariaLabel="burger-menu"></app-icon>
                    </button>
                </div>
                <div>
                    <p class="text-white text-2xl font-bold">Budget Prep. Tool</p>
                </div>
            </div>
            <div class="flex-1 flex justify-end gap-4 items-center px-2">
                <app-icon name="notification-bell" size="30" class="text-white"
                    ariaLabel="notification-bell"></app-icon>
                <div class="dropdown dropdown-end cursor-pointer">
                    <div class="flex items-center gap-2" tabindex="0">
                        <app-icon name="profile" size="35" class="text-white" ariaLabel="profile"></app-icon>
                        <div>
                            <p class="text-sm font-medium text-white">สมคิด พัฒนาอุตสาหกิจ</p>
                            <p class="text-xs font-medium text-blue-200">ฝ่ายวางแผนและงบประมาณ</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="h-10 bg-white shadow-md">
            <ul class="flex items-center px-8 h-full">
                <li *ngFor="let item of menuItems; let i = index" class="py-2 px-6 flex items-center gap-0.5">
                    <app-icon [name]="item.icon" size="20"
                        [ngClass]="isActive(item.path) ? 'text-blue-400' : 'text-gray-700'"
                        [ariaLabel]="item.title"></app-icon>
                    <a class="text-sm font-medium" [ngClass]="isActive(item.path) ? 'text-blue-400' : 'text-gray-700'"
                        [routerLink]="item.path">{{ item.title }}</a>
                </li>
            </ul>
        </div>

        <div class="px-8 py-4">
            <div class="breadcrumbs text-sm">
                <ul>
                    <li><a>Home</a></li>
                    <li><a>Documents</a></li>
                    <li>Add Document</li>
                </ul>
            </div>
            <div class="px-4 py-6 bg-white rounded-md shadow-sm min-h-[calc(100vh-168px)]">
                <router-outlet />
            </div>
        </div>
    </div>
</div>